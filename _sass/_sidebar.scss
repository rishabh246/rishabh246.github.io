/* ==========================================================================
   Custom Sidebar – v13
   * Mobile (< $large): center photo and all text; show a single “Follow” button
   * Desktop (≥ $large): left-align; hide the button and show the full list
   ========================================================================== */

$avatar-size: 230px;
$right-sidebar-width-narrow: 320px !default;
$right-sidebar-width:        360px !default;
$sidebar-gutter:             1rem;

/* Sidebar container */
.sidebar {
  -webkit-transform: translate3d(0,0,0);
          transform: translate3d(0,0,0);
  @include clearfix();
  margin-bottom: 1em;

  @include breakpoint($large){
    @include span(2 of 12);
  }

  h2, h3, h4, h5, h6 {
    margin-bottom: 0;
    font-family: $sans-serif-narrow;
  }
  h3, h4 { font-size: $type-size-5; }

  p, li {
    font-family: $sans-serif;
    font-size: $type-size-6;
    line-height: 1.5;
  }

  img { width: 100%; height: auto; }
}

/* Right-sidebar wrapper widths */
.sidebar__right {
  margin-bottom: 1em;

  @include breakpoint($large){
    position: relative;
    float: right;
    width: $right-sidebar-width-narrow;
    margin-left: span(0.5 of 12);
  }
  @include breakpoint($x-large){
    width: $right-sidebar-width;
  }
}

/* --------------------------- MOBILE FIRST (< $large) -------------------- */
/* Responsive, centered avatar on mobile */
.author__avatar {
  display: block;
  width: 100%;
  max-width: $avatar-size;
  height: auto;
  margin: 0 auto 1rem;        /* center on mobile */

  img {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 50%;
  }
}

/* Center all text under the photo on mobile */
.author__content {
  width: auto;
  margin: 0 0 0.75rem 0;
  text-align: center;         /* center on mobile */
  line-height: 1;
  padding: 0;
}

.sidebar .author__name { text-align: center; }
.author__bio { text-align: center; }

.author__urls-wrapper {
  text-align: center;         /* centers the Follow button on mobile */
  margin-bottom: 1rem;
}

/* MOBILE DEFAULTS: show button, hide list */
.author__urls-wrapper > button { display: inline-block; }
.author__urls { display: none; text-align: center; }

/* URL list styling (applies when visible) */
.author__urls a {
  color: #000;
  text-decoration: none;
  font-size: 12px;

  &:hover { text-decoration: underline; }
}

/* Author bio size (adjust if desired) */
.author__bio {
  font-size: 14.5px;
  line-height: 1.3;
  margin: 0;
}

/* ----------------------------- DESKTOP (≥ $large) ----------------------- */
/* Keep left alignment on desktop and show full list */
@include breakpoint($large){
  .author__avatar { margin: 0 0 2rem 0; }    /* left on desktop */

  .author__content,
  .sidebar .author__name,
  .author__bio,
  .author__urls-wrapper,
  .author__urls {
    text-align: left;                         /* left-align all text on desktop */
  }

  /* Desktop: hide button, show full list */
  .author__urls-wrapper > button { display: none; }
  .author__urls {
    display: block !important;
    padding-left: 0;                          /* no indent */
    max-height: none;
    overflow: visible;
  }
}
