/* ==========================================================================
   Custom Sidebar – v12 (responsive avatar, left-aligned text)
   * Mobile (< $large): show a single “Follow” button; hide the full list
   * Desktop (≥ $large): hide the button; show the full list of links
   ========================================================================== */

$avatar-size: 270px;
$right-sidebar-width-narrow: 320px !default;
$right-sidebar-width:        360px !default;
$sidebar-gutter:             1rem;

/* Sidebar container */
.sidebar {
  -webkit-transform: translate3d(0,0,0);
          transform: translate3d(0,0,0);
  @include clearfix();
  margin-bottom: 1em;

  @include breakpoint($large){
    @include span(2 of 12);
  }

  h2, h3, h4, h5, h6 {
    margin-bottom: 0;
    font-family: $sans-serif-narrow;
  }
  h3, h4 { font-size: $type-size-5; }

  p, li {
    font-family: $sans-serif;
    font-size: $type-size-6;
    line-height: 1.5;
  }

  img { width: 100%; height: auto; }
}

/* Right-sidebar wrapper widths */
.sidebar__right {
  margin-bottom: 1em;

  @include breakpoint($large){
    position: relative;
    float: right;
    width: $right-sidebar-width-narrow;
    margin-left: span(0.5 of 12);
  }
  @include breakpoint($x-large){
    width: $right-sidebar-width;
  }
}

/* --------------------------- MOBILE FIRST (< $large) -------------------- */
/* Responsive avatar: fill column up to cap; no fixed height */
.author__avatar {
  display: block;
  width: 100%;
  max-width: $avatar-size;
  height: auto;
  margin: 0 0 1rem 0;

  img {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 50%;
  }
}

/* Text/content block under the avatar */
.author__content {
  width: auto;
  margin: 0 0 0.75rem 0;
  text-align: left;
  line-height: 1;
  padding: 0;

  @include breakpoint($large){
    width: auto;
    margin: 0 0 0.75rem 0;
    text-align: left;
  }
}

/* Follow button wrapper + list container */
.author__urls-wrapper {
  text-align: left;
  margin-bottom: 1rem;
}

/* MOBILE DEFAULTS: show button, hide list */
.author__urls-wrapper > button {
  display: inline-block;
}
.author__urls {
  display: none;
}

/* DESKTOP (≥ $large): hide button, show full list */
@include breakpoint($large){
  .author__urls-wrapper > button {
    display: none;
  }
  .author__urls {
    display: block !important;   /* force visible even if JS toggles are present */
    padding-left: 0;             /* no indent on desktop */
    text-align: left;
    max-height: none;
    overflow: visible;
  }
}

/* URL list styling */
.author__urls a {
  color: #000;
  text-decoration: none;
  font-size: 14px;

  &:hover { text-decoration: underline; }
}

/* Author name and bio */
.sidebar .author__name {
  font-family: $sans-serif;
  font-size: $type-size-4;
  font-weight: 700;
  line-height: 1.2;
  margin: 0.25rem 0;
  text-align: left;
}

.author__bio {
  font-size: 18px;
  line-height: 1.3;
  margin: 0;
  text-align: left;
}

/* Desktop spacing (keep left alignment) */
@include breakpoint($large){
  .author__avatar { margin: 0 0 2rem 0; }
  .author__content {
    width: auto;
    margin: 0 0 0.75rem 0;
  }
}
